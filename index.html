<!DOCTYPE html>
<!-- saved from url=(0043)https://ricardoribeiro-prof.github.io/jogo/ -->
<html lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Jogos de L√≥gica ‚Äì Turma B | CETI Maria de Castro Ribeiro</title>
  <style>
    :root {
      --verde: #00e676;
      --verde-escuro: #004d26;
      --amarelo: #fdd835;
      --amarelo-escuro: #fbc02d;
      --preto: #000000;
      --cinza-card: #111111;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, Helvetica, sans-serif;
      background: radial-gradient(circle at top, #222 0, #000 55%, #000 100%);
      color: #f5f5f5;
      min-height: 100vh;
    }

    /* CABE√áALHO COM IMAGEM DE FUNDO */
    header {
      background: linear-gradient(90deg, #000 0%, #004d26 40%, #000 100%);
      padding: 52px 24px;
      border-bottom: 2px solid var(--amarelo-escuro);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image: url("https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&w=1600&q=80");
      background-size: cover;
      background-position: center;
      opacity: 0.25; /* deixa a imagem suave */
      z-index: 0;
    }

    header::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at left, rgba(0, 230, 118, 0.35) 0, transparent 55%);
      z-index: 0;
    }

    .branding,
    .turma-tag {
      position: relative;
      z-index: 1;
    }

    .branding {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .branding .escola {
      color: var(--amarelo-escuro);
      font-weight: bold;
      letter-spacing: 1px;
      font-size: 16px;
      text-transform: uppercase;
      text-shadow: 0 0 6px #000;
    }

    .branding .evento {
      color: var(--verde);
      font-size: 13px;
      text-shadow: 0 0 6px #000;
    }

    .turma-tag {
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid var(--verde);
      border-radius: 999px;
      padding: 4px 14px;
      font-size: 11px;
      color: #e0e0e0;
      white-space: nowrap;
      text-shadow: 0 0 4px #000;
    }

    .turma-tag span {
      color: var(--amarelo);
      font-weight: bold;
    }

    /* MENU */
    nav {
      background: #050505;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 8px 12px;
      flex-wrap: wrap;
    }

    nav button {
      text-decoration: none;
      color: #f5f5f5;
      font-size: 13px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid #333;
      background: #111;
      transition: 0.2s;
      cursor: pointer;
    }

    nav button:hover {
      background: var(--amarelo);
      color: #000;
      border-color: var(--amarelo-escuro);
    }

    nav button.ativo {
      background: var(--amarelo);
      color: #000;
      border-color: var(--amarelo-escuro);
      font-weight: bold;
    }

    main {
      max-width: 1100px;
      margin: 20px auto 40px;
      padding: 0 16px;
    }

    .secao-titulo {
      text-align: center;
      margin-bottom: 16px;
    }

    .secao-titulo h2 {
      font-size: 22px;
      color: var(--verde);
      margin-bottom: 4px;
    }

    .secao-titulo p {
      font-size: 13px;
      color: #bdbdbd;
    }

    .card {
      background: var(--cinza-card);
      border-radius: 16px;
      border: 1px solid #333;
      box-shadow: 0 0 18px rgba(0, 0, 0, 0.7);
      padding: 16px;
      position: relative;
      overflow: hidden;
      margin-bottom: 24px;
    }

    .card h3 {
      font-size: 18px;
      color: var(--amarelo);
      margin-bottom: 6px;
    }

    .card p {
      font-size: 13px;
      color: #d0d0d0;
      margin-bottom: 8px;
    }

    .layout-jogo {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 16px;
    }

    @media (max-width: 900px) {
      .layout-jogo {
        grid-template-columns: 1fr;
      }
    }

    .regras-lista {
      list-style: none;
      margin-top: 6px;
      font-size: 13px;
    }

    .regras-lista li {
      margin-bottom: 6px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
    }

    .regras-lista li::before {
      content: "‚Ä¢";
      color: var(--verde);
      margin-top: 2px;
    }

    .dica {
      margin-top: 8px;
      font-size: 12px;
      color: #bdbdbd;
      border-top: 1px dashed #444;
      padding-top: 6px;
    }

    .footer-creditos {
      text-align: center;
      margin-top: 18px;
      font-size: 11px;
      color: #9e9e9e;
    }

    button {
      margin-top: 8px;
      padding: 8px 16px;
      border-radius: 20px;
      background: var(--verde-escuro);
      color: #fff;
      border: 1px solid var(--amarelo-escuro);
      cursor: pointer;
      font-size: 13px;
      transition: 0.2s;
    }

    button:hover {
      background: var(--amarelo);
      color: #000;
    }

    /* ===== MASTERMIND DE CORES ===== */

    #secao-mastermind {
      display: block;
    }

    #secao-hanoi {
      display: none;
    }

    #mm-cores-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .cores-opcoes {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 4px;
    }

    .cor-botao {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      border: 2px solid #333;
      cursor: pointer;
      box-shadow: 0 0 6px rgba(0,0,0,0.8);
      outline: none;
    }

    .cor-botao.selecionada {
      border-color: var(--amarelo);
      box-shadow: 0 0 10px var(--amarelo);
    }

    .slot-sequencia {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      border: 2px dashed #555;
      cursor: pointer;
      margin-right: 6px;
    }

    .linha-tentativa {
      display: flex;
      align-items: center;
      margin-bottom: 4px;
      font-size: 12px;
      font-family: "Consolas", monospace;
    }

    .mm-cores-historico {
      max-height: 240px;
      overflow-y: auto;
      background: #000;
      border-radius: 10px;
      border: 1px solid #333;
      padding: 6px;
    }

    #mm-cores-status {
      font-size: 13px;
      min-height: 18px;
      color: #e0e0e0;
    }

    /* ===== TORRE DE HAN√ìI ===== */

    #hanoi-card {
      position: relative;
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    #game {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
      padding: 10px;
      background: #000;
      border-radius: 16px;
      border: 1px solid #333;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
    }

    .torre {
      width: 170px;
      height: 250px;
      display: flex;
      flex-direction: column-reverse;
      align-items: center;
      position: relative;
      cursor: pointer;
    }

    .torre-fundo,
    .poste,
    .base {
      position: absolute;
      z-index: 0;
    }

    .torre-fundo {
      inset: 0;
      background: radial-gradient(circle at top, #1b1b1b 0, #050505 60%);
      border-radius: 12px;
      border: 1px solid #333;
      opacity: 0.9;
    }

    .poste {
      bottom: 24px;
      width: 10px;
      height: 170px;
      background: linear-gradient(180deg, #bbb, #555);
      left: 50%;
      transform: translateX(-50%);
      border-radius: 4px;
    }

    .base {
      bottom: 0;
      height: 18px;
      width: 100%;
      background: linear-gradient(180deg, #666, #222);
      border-radius: 0 0 12px 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.7);
    }

    .disco {
      position: relative;
      z-index: 1;
      height: 22px;
      border-radius: 999px;
      margin-bottom: 5px;
      text-align: center;
      font-size: 12px;
      line-height: 22px;
      color: #000;
      font-weight: bold;
      border: 2px solid rgba(0,0,0,0.6);
      box-shadow: 0 3px 10px rgba(0,0,0,0.9);
    }

    .size-1 { width: 80px;  background: #ff1744; }
    .size-2 { width: 100px; background: #ff9100; }
    .size-3 { width: 120px; background: #ffea00; }
    .size-4 { width: 140px; background: #00e676; }
    .size-5 { width: 160px; background: #2979ff; }
    .size-6 { width: 180px; background: #e040fb; }

    #info-hanoi {
      font-size: 13px;
      color: #e0e0e0;
    }

    #info-hanoi span {
      color: var(--amarelo);
      font-weight: bold;
    }

    #status-hanoi {
      font-size: 13px;
      min-height: 18px;
      margin-top: 4px;
      color: #bdbdbd;
      text-align: center;
    }

    .selecionada {
      box-shadow: 0 0 18px var(--amarelo);
      outline: 2px solid var(--amarelo);
    }

    /* OVERLAY DE PARAB√âNS ‚Äì HAN√ìI */
    .celebracao-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10;
      flex-direction: column;
      text-align: center;
    }

    .celebracao-overlay.mostrar {
      display: flex;
      animation: fadeIn 0.4s ease-out;
    }

    .celebracao-conteudo h2 {
      font-size: 26px;
      color: var(--amarelo);
      margin-bottom: 8px;
    }

    .celebracao-conteudo p {
      font-size: 14px;
      color: #f5f5f5;
      margin-bottom: 12px;
    }

    .celebracao-conteudo button {
      margin-top: 10px;
    }

    .balao {
      position: absolute;
      bottom: -60px;
      width: 30px;
      height: 40px;
      border-radius: 50% 50% 45% 45%;
      animation: subirBalao 5s linear infinite;
      opacity: 0.9;
    }

    .balao::after {
      content: "";
      position: absolute;
      width: 2px;
      height: 20px;
      background: #ffffff;
      left: 50%;
      transform: translateX(-50%);
      bottom: -20px;
    }

    .confete {
      position: absolute;
      width: 6px;
      height: 10px;
      border-radius: 2px;
      animation: cairConfete 3s linear infinite;
      opacity: 0.9;
    }

    @keyframes subirBalao {
      0% { transform: translateY(0); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(-420px); opacity: 0; }
    }

    @keyframes cairConfete {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(350px) rotate(360deg); opacity: 0; }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
  </style>
</head>
<body>
  <header>
    <div class="branding">
      <div class="escola">CETI - PROFESSORA MARIA DE CASTRO RIBEIRO</div>
      <div class="evento">Dia ‚ÄúD‚Äù da Educa√ß√£o Profissional e Tecnol√≥gica</div>
    </div>
    <div class="turma-tag">
      Projeto desenvolvido pelos alunos de Desenvolvimento de Sistemas ‚Äì <span>Turma B</span>
    </div>
  </header>

  <nav>
    <button id="btn-mastermind" class="">Mastermind de Cores</button>
    <button id="btn-hanoi" class="ativo">Torre de Han√≥i</button>
  </nav>

  <main>
    <!-- ================== SE√á√ÉO MASTERMIND ================== -->
    <section id="secao-mastermind" style="display: none;">
      <div class="secao-titulo">
        <h2>Mastermind de Cores</h2>
        <p>Tente descobrir a sequ√™ncia secreta de 4 cores usando as dicas de cada tentativa.</p>
      </div>

      <div class="card">
        <div class="layout-jogo">
          <div>
            <h3>Jogo Interativo</h3>
            <p>Selecione uma cor e clique nos c√≠rculos vazios para montar sua tentativa.</p>

            <div id="mm-cores-container">
              <div class="cores-opcoes">
                <button class="cor-botao" data-cor="R" style="background:#f44336"></button>
                <button class="cor-botao" data-cor="G" style="background:#4caf50"></button>
                <button class="cor-botao" data-cor="B" style="background:#2196f3"></button>
                <button class="cor-botao" data-cor="Y" style="background:#ffeb3b"></button>
                <button class="cor-botao" data-cor="O" style="background:#ff9800"></button>
                <button class="cor-botao" data-cor="P" style="background:#9c27b0"></button>
              </div>

              <div style="display:flex; gap:6px; align-items:center; margin-top:4px;">
                <div id="slot1" class="slot-sequencia" style="background: transparent; border-style: dashed;"></div>
                <div id="slot2" class="slot-sequencia" style="background: transparent; border-style: dashed;"></div>
                <div id="slot3" class="slot-sequencia" style="background: transparent; border-style: dashed;"></div>
                <div id="slot4" class="slot-sequencia" style="background: transparent; border-style: dashed;"></div>
                <button id="mm-cores-tentar">Tentar</button>
                <button id="mm-cores-reiniciar">Novo C√≥digo</button>
              </div>

              <div id="mm-cores-status">Novo c√≥digo de cores gerado. Monte sua primeira tentativa!</div>
              <div class="mm-cores-historico" id="mm-cores-historico"></div>
            </div>
          </div>

          <aside>
            <h3>Como jogar?</h3>
            <ul class="regras-lista">
              <li>A m√°quina escolhe uma sequ√™ncia secreta de 4 cores (podem repetir).</li>
              <li>Escolha uma cor, clique nos c√≠rculos vazios at√© completar a tentativa.</li>
              <li>O hist√≥rico mostra cada tentativa com o resultado:
                <br>- Quantas cores est√£o na posi√ß√£o certa.<br>
                - Quantas cores existem, mas em posi√ß√£o errada.
              </li>
              <li>Use as dicas para melhorar sua estrat√©gia a cada rodada.</li>
            </ul>
            <div class="dica">
              <strong>Dica:</strong> Nas primeiras jogadas, teste cores diferentes para descobrir quais fazem parte do c√≥digo.
            </div>
          </aside>
        </div>

        <div class="footer-creditos">
          ‚ÄúL√≥gica tamb√©m √© criatividade: experimentar, errar, aprender e tentar de novo.‚Äù
        </div>
      </div>
    </section>

    <!-- ================== SE√á√ÉO TORRE DE HAN√ìI ================== -->
    <section id="secao-hanoi" style="display: block;">
      <div class="secao-titulo">
        <h2>Torre de Han√≥i</h2>
        <p>Desafie sua l√≥gica movendo os discos entre as torres, sem colocar um maior sobre um menor.</p>
      </div>

      <div class="card" id="hanoi-card">
        <div class="celebracao-overlay" id="celebracao">
          <div class="celebracao-conteudo">
            <h2>üéâ Parab√©ns! üéâ</h2>
            <p>Voc√™ completou a Torre de Han√≥i com <span id="movimentos-final"></span> movimentos!</p>
            <p>Isso √© racioc√≠nio l√≥gico, paci√™ncia e estrat√©gia na pr√°tica. üëè</p>
            <button id="btn-jogar-novamente">Jogar Novamente</button>
          </div>
        </div>

        <div class="layout-jogo">
          <div>
            <h3>Jogo Interativo</h3>
            <p>Clique na torre de origem e depois na torre de destino para mover o disco.</p>

            <div id="game-container">
              <div id="info-hanoi">
                Movimentos: <span id="movimentos-hanoi">0</span> |
                N√∫mero de discos: <span id="numDiscos">6</span>
              </div>
              <div id="status-hanoi">Clique em uma torre com discos para escolher a origem.</div>

              <div id="game">
                <div class="torre" data-idx="0">
                  <div class="torre-fundo"></div>
                  <div class="poste"></div>
                  <div class="base"></div>
                <div class="disco size-6">6</div><div class="disco size-5">5</div><div class="disco size-4">4</div><div class="disco size-3">3</div><div class="disco size-2">2</div><div class="disco size-1">1</div></div>
                <div class="torre" data-idx="1">
                  <div class="torre-fundo"></div>
                  <div class="poste"></div>
                  <div class="base"></div>
                </div>
                <div class="torre" data-idx="2">
                  <div class="torre-fundo"></div>
                  <div class="poste"></div>
                  <div class="base"></div>
                </div>
              </div>

              <button id="reiniciar-hanoi">Reiniciar</button>
            </div>
          </div>

          <aside>
            <h3>Regras da Torre de Han√≥i</h3>
            <ul class="regras-lista">
              <li>Mova apenas <strong>um disco por vez</strong>.</li>
              <li>Sempre mova o <strong>disco de cima</strong> de uma torre.</li>
              <li><strong>Proibido</strong> colocar um disco maior sobre um menor.</li>
              <li>O desafio termina quando todos os discos estiverem em outra torre, na mesma ordem.</li>
            </ul>
            <div class="dica">
              <strong>Dica:</strong> Para 6 discos, o m√≠nimo de movimentos √© <strong>63</strong>.
              Tente chegar o mais pr√≥ximo poss√≠vel!
            </div>
          </aside>
        </div>

        <div class="footer-creditos">
          ‚ÄúResolver desafios passo a passo √© exatamente o que a programa√ß√£o nos ensina a fazer.‚Äù<br><br><br><br>
	   Curso de Desenvolvimento de Sistemas - Turma "B" 2025.
        </div>
      </div>
    </section>
  </main>

  <script>
    /* ====== TROCA DE SE√á√ÉO (MENU) ====== */
    const btnMastermind = document.getElementById("btn-mastermind");
    const btnHanoi = document.getElementById("btn-hanoi");
    const secaoMastermind = document.getElementById("secao-mastermind");
    const secaoHanoi = document.getElementById("secao-hanoi");

    btnMastermind.addEventListener("click", () => {
      btnMastermind.classList.add("ativo");
      btnHanoi.classList.remove("ativo");
      secaoMastermind.style.display = "block";
      secaoHanoi.style.display = "none";
    });

    btnHanoi.addEventListener("click", () => {
      btnHanoi.classList.add("ativo");
      btnMastermind.classList.remove("ativo");
      secaoMastermind.style.display = "none";
      secaoHanoi.style.display = "block";
    });

    /* ========= MASTERMIND DE CORES ========= */

    const coresPossiveis = ["R","G","B","Y","O","P"];
    let codigoCores = [];
    let tentativaCores = ["","","",""];
    let tentativasCores = 0;
    let corAtualSelecionada = null;

    function gerarCodigoCores() {
      codigoCores = [];
      for (let i = 0; i < 4; i++) {
        const cor = coresPossiveis[Math.floor(Math.random() * coresPossiveis.length)];
        codigoCores.push(cor);
      }
      tentativaCores = ["","","",""];
      tentativasCores = 0;
      const hist = document.getElementById("mm-cores-historico");
      if (hist) hist.innerHTML = "";
      const status = document.getElementById("mm-cores-status");
      if (status) status.textContent =
        "Novo c√≥digo de cores gerado. Monte sua primeira tentativa!";
      limparSlotsCores();
    }

    function limparSlotsCores() {
      for (let i = 1; i <= 4; i++) {
        const s = document.getElementById("slot"+i);
        if (!s) continue;
        s.style.background = "transparent";
        s.style.borderStyle = "dashed";
        tentativaCores[i-1] = "";
      }
    }

    function corParaHex(c) {
      switch(c){
        case "R": return "#f44336";
        case "G": return "#4caf50";
        case "B": return "#2196f3";
        case "Y": return "#ffeb3b";
        case "O": return "#ff9800";
        case "P": return "#9c27b0";
        default:  return "#000";
      }
    }

    document.querySelectorAll(".cor-botao").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        document.querySelectorAll(".cor-botao").forEach(b=>b.classList.remove("selecionada"));
        btn.classList.add("selecionada");
        corAtualSelecionada = btn.dataset.cor;
      });
    });

    for (let i = 1; i <= 4; i++) {
      const slot = document.getElementById("slot"+i);
      if (!slot) continue;
      slot.addEventListener("click", ()=>{
        if(!corAtualSelecionada) {
          const st = document.getElementById("mm-cores-status");
          if (st) st.textContent =
            "Escolha uma cor antes de clicar no c√≠rculo.";
          return;
        }
        slot.style.background = corParaHex(corAtualSelecionada);
        slot.style.borderStyle = "solid";
        tentativaCores[i-1] = corAtualSelecionada;
      });
    }

    function tentarCores() {
      const status = document.getElementById("mm-cores-status");
      const historico = document.getElementById("mm-cores-historico");
      if (!status || !historico) return;

      if (tentativaCores.some(c => c === "")) {
        status.textContent =
          "Preencha os 4 c√≠rculos com cores antes de tentar.";
        return;
      }

      tentativasCores++;

      let certoPos = 0;
      let certoCor = 0;

      const codTemp = [...codigoCores];
      const tentTemp = [...tentativaCores];

      for (let i=0;i<4;i++) {
        if (tentTemp[i] === codTemp[i]) {
          certoPos++;
          codTemp[i] = null;
          tentTemp[i] = null;
        }
      }

      for (let i=0;i<4;i++) {
        if (tentTemp[i] !== null) {
          const idx = codTemp.indexOf(tentTemp[i]);
          if (idx !== -1) {
            certoCor++;
            codTemp[idx] = null;
          }
        }
      }

      const linha = document.createElement("div");
      linha.classList.add("linha-tentativa");

      let bolinhas = "";
      tentativaCores.forEach(c=>{
        bolinhas += `<span style="display:inline-block;width:14px;height:14px;border-radius:50%;margin-right:3px;background:${corParaHex(c)}"></span>`;
      });

      if (certoPos === 4) {
        linha.innerHTML = `${bolinhas} ‚Üí ‚úÖ 4 na posi√ß√£o certa!`;
        historico.prepend(linha);
        status.textContent =
          "Parab√©ns! Voc√™ acertou a sequ√™ncia de cores!";
      } else {
        linha.innerHTML =
          `${bolinhas} ‚Üí ${certoPos} na posi√ß√£o certa, ${certoCor} com cor certa em posi√ß√£o errada.`;
        historico.prepend(linha);
        status.textContent =
          "Use as dicas da linha mais recente para ajustar sua pr√≥xima tentativa.";
      }
    }

    const btnTentar = document.getElementById("mm-cores-tentar");
    if (btnTentar) btnTentar.addEventListener("click", tentarCores);
    const btnReiniciarMM = document.getElementById("mm-cores-reiniciar");
    if (btnReiniciarMM) btnReiniciarMM.addEventListener("click", gerarCodigoCores);

    gerarCodigoCores();

    /* ========= TORRE DE HAN√ìI ========= */

    const NUM_DISCOS = 6;
    let torres = [[],[],[]];
    let origemSelecionada = null;
    let movimentosHanoi = 0;

    const torresElem = document.querySelectorAll(".torre");
    const movimentosSpanHanoi = document.getElementById("movimentos-hanoi");
    const statusHanoi = document.getElementById("status-hanoi");
    const numDiscosSpan = document.getElementById("numDiscos");
    const btnReiniciarHanoi = document.getElementById("reiniciar-hanoi");

    const celebracao = document.getElementById("celebracao");
    const movimentosFinalSpan = document.getElementById("movimentos-final");
    const btnJogarNovamente = document.getElementById("btn-jogar-novamente");
    const cardHanoi = document.getElementById("hanoi-card");

    function iniciarHanoi() {
      torres = [[],[],[]];
      for (let t = NUM_DISCOS; t >= 1; t--) {
        torres[0].push(t);
      }
      movimentosHanoi = 0;
      if (movimentosSpanHanoi) movimentosSpanHanoi.textContent = movimentosHanoi;
      if (numDiscosSpan) numDiscosSpan.textContent = NUM_DISCOS;
      origemSelecionada = null;
      limparSelecaoTorres();
      if (statusHanoi) statusHanoi.textContent =
        "Clique em uma torre com discos para escolher a origem.";
      esconderCelebracao();
      desenharHanoi();
    }

    function desenharHanoi() {
      torresElem.forEach((torreElem, idx)=>{
        torreElem.querySelectorAll(".disco").forEach(d=>d.remove());
        const torre = torres[idx];
        torre.forEach((tamanho)=>{
          const disco = document.createElement("div");
          disco.classList.add("disco","size-"+tamanho);
          disco.textContent = tamanho;
          torreElem.appendChild(disco);
        });
      });
    }

    function limparSelecaoTorres() {
      torresElem.forEach(t=>t.classList.remove("selecionada"));
    }

    function cliqueTorre(idx) {
      if (celebracao && celebracao.classList.contains("mostrar")) return;

      if (origemSelecionada === null) {
        if (torres[idx].length === 0) {
          if (statusHanoi) statusHanoi.textContent =
            "Essa torre est√° vazia. Escolha uma torre com discos.";
          return;
        }
        origemSelecionada = idx;
        limparSelecaoTorres();
        torresElem[idx].classList.add("selecionada");
        if (statusHanoi) statusHanoi.textContent =
          `Origem selecionada: Torre ${idx+1}. Agora clique na torre de destino.`;
      } else {
        const origem = origemSelecionada;
        const destino = idx;

        if (origem === destino) {
          if (statusHanoi) statusHanoi.textContent =
            "Origem e destino s√£o a mesma torre. Escolha uma torre diferente.";
          origemSelecionada = null;
          limparSelecaoTorres();
          return;
        }

        if (movimentoValido(origem, destino)) {
          const disco = torres[origem].pop();
          torres[destino].push(disco);
          movimentosHanoi++;
          if (movimentosSpanHanoi) movimentosSpanHanoi.textContent = movimentosHanoi;
          desenharHanoi();
          if (statusHanoi) statusHanoi.textContent =
            `Movido da Torre ${origem+1} para a Torre ${destino+1}.`;

          if (jogoConcluido()) {
            mostrarCelebracao();
          }
        } else {
          if (statusHanoi) statusHanoi.textContent =
            "Movimento inv√°lido! N√£o coloque disco maior sobre disco menor.";
        }

        origemSelecionada = null;
        limparSelecaoTorres();
      }
    }

    function movimentoValido(origem, destino) {
      if (torres[origem].length === 0) return false;
      const discoOrigem = torres[origem][torres[origem].length-1];
      if (torres[destino].length === 0) return true;
      const discoDestino = torres[destino][torres[destino].length-1];
      return discoOrigem < discoDestino;
    }

    function jogoConcluido() {
      return torres[1].length === NUM_DISCOS || torres[2].length === NUM_DISCOS;
    }

    function mostrarCelebracao() {
      if (movimentosFinalSpan) movimentosFinalSpan.textContent = movimentosHanoi;
      if (celebracao) celebracao.classList.add("mostrar");
      criarBaloesEConfetes();
      if (statusHanoi) statusHanoi.textContent =
        `Parab√©ns! Voc√™ completou o desafio em ${movimentosHanoi} movimentos.`;
    }

    function esconderCelebracao() {
      if (!celebracao || !cardHanoi) return;
      celebracao.classList.remove("mostrar");
      cardHanoi.querySelectorAll(".balao, .confete").forEach(el=>el.remove());
    }

    function criarBaloesEConfetes() {
      if (!cardHanoi) return;
      const coresBaloes = ["#ff1744", "#ff9100", "#ffea00", "#00e676", "#2979ff", "#e040fb"];
      const coresConfete = [
        "#ff1744", "#ff9100", "#ffea00", "#00e676", "#2979ff", "#e040fb", "#ffffff"
      ];

      for (let i=0;i<12;i++){
        const balao = document.createElement("div");
        balao.classList.add("balao");
        balao.style.left = Math.random()*100 + "%";
        balao.style.background = coresBaloes[Math.floor(Math.random()*coresBaloes.length)];
        balao.style.animationDuration = (4+Math.random()*3)+"s";
        cardHanoi.appendChild(balao);
      }

      for (let i=0;i<80;i++){
        const confete = document.createElement("div");
        confete.classList.add("confete");
        confete.style.left = Math.random()*100 + "%";
        confete.style.top = (Math.random()*40-40)+"px";
        confete.style.background = coresConfete[Math.floor(Math.random()*coresConfete.length)];
        confete.style.animationDuration = (2+Math.random()*2)+"s";
        cardHanoi.appendChild(confete);
      }
    }

    torresElem.forEach((elem,idx)=>{
      elem.addEventListener("click", ()=>cliqueTorre(idx));
    });
    if (btnReiniciarHanoi) btnReiniciarHanoi.addEventListener("click", iniciarHanoi);
    if (btnJogarNovamente) btnJogarNovamente.addEventListener("click", iniciarHanoi);

    iniciarHanoi();
  </script>


</body></html>
